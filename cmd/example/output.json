// === EVM TVL Aggregator - Example Expected Results ===

// 1. AGGREGATED TVL RESPONSE:

{
  "total_tvl": 125750500000.5,
  "total_protocols": 234,
  "chain_breakdown": [
    {
      "chain_id": 1,
      "chain_name": "Ethereum",
      "tvl": 85500000000,
      "tvl_change_24h": 2.5,
      "updated_at": "2025-09-21T21:39:41.617646+01:00"
    },
    {
      "chain_id": 56,
      "chain_name": "BSC",
      "tvl": 15750500000,
      "tvl_change_24h": -1.2,
      "updated_at": "2025-09-21T21:39:41.617646+01:00"
    },
    {
      "chain_id": 137,
      "chain_name": "Polygon",
      "tvl": 8500000000,
      "tvl_change_24h": 3.8,
      "updated_at": "2025-09-21T21:39:41.617646+01:00"
    },
    {
      "chain_id": 42161,
      "chain_name": "Arbitrum",
      "tvl": 7250000000,
      "tvl_change_24h": 5.2,
      "updated_at": "2025-09-21T21:39:41.617646+01:00"
    },
    {
      "chain_id": 10,
      "chain_name": "Optimism",
      "tvl": 4750000000.5,
      "tvl_change_24h": 1.7,
      "updated_at": "2025-09-21T21:39:41.617646+01:00"
    },
    {
      "chain_id": 43114,
      "chain_name": "Avalanche",
      "tvl": 4000000000,
      "tvl_change_24h": -0.5,
      "updated_at": "2025-09-21T21:39:41.617646+01:00"
    }
  ],
  "top_protocols": [
    {
      "protocol_id": "aave-v3",
      "name": "Aave V3",
      "category": "Lending",
      "total_tvl": 28500000000,
      "chain_tvls": {
        "arbitrum": 3500000000,
        "ethereum": 18500000000,
        "optimism": 2500000000,
        "polygon": 4000000000
      },
      "updated_at": "2025-09-21T21:39:41.617646+01:00"
    },
    {
      "protocol_id": "uniswap-v3",
      "name": "Uniswap V3",
      "category": "DEX",
      "total_tvl": 22750000000,
      "chain_tvls": {
        "arbitrum": 2500000000,
        "ethereum": 15000000000,
        "optimism": 1500000000,
        "polygon": 3750000000
      },
      "updated_at": "2025-09-21T21:39:41.617646+01:00"
    }
  ],
  "category_breakdown": {
    "DEX": 38750000000,
    "Derivatives": 8500000000,
    "Lending": 45500000000,
    "Staking": 7500500000.5,
    "Yield": 25500000000
  },
  "last_updated": "2025-09-21T21:39:41.617646+01:00"
}

2. PROTOCOL DETAILS RESPONSE:
-------------------------------
{
  "protocol": {
    "protocol_id": "compound-v3",
    "name": "Compound V3",
    "category": "Lending",
    "total_tvl": 8750000000,
    "chain_tvls": {
      "arbitrum": 1000000000,
      "ethereum": 6500000000,
      "polygon": 1250000000
    },
    "tvl_history": [
      {
        "timestamp": "2025-09-20T21:39:41.61765+01:00",
        "tvl": 8500000000
      },
      {
        "timestamp": "2025-09-21T09:39:41.617668+01:00",
        "tvl": 8650000000
      },
      {
        "timestamp": "2025-09-21T21:39:41.617668+01:00",
        "tvl": 8750000000
      }
    ],
    "updated_at": "2025-09-21T21:39:41.617668+01:00"
  },
  "token_distribution": [
    {
      "token": "USDC",
      "amount": 3500000000,
      "value_usd": 3500000000,
      "percentage": 40
    },
    {
      "token": "ETH",
      "amount": 1250000,
      "value_usd": 2750000000,
      "percentage": 31.4
    },
    {
      "token": "WBTC",
      "amount": 45000,
      "value_usd": 1500000000,
      "percentage": 17.1
    },
    {
      "token": "DAI",
      "amount": 1000000000,
      "value_usd": 1000000000,
      "percentage": 11.5
    }
  ],
  "pools_or_vaults": [
    {
      "pool_id": "usdc-market",
      "name": "USDC Market",
      "tvl": 3500000000,
      "apy": 4.5,
      "volume_24h": 125000000
    },
    {
      "pool_id": "eth-market",
      "name": "ETH Market",
      "tvl": 2750000000,
      "apy": 2.8,
      "volume_24h": 95000000
    },
    {
      "pool_id": "wbtc-market",
      "name": "WBTC Market",
      "tvl": 1500000000,
      "apy": 1.9,
      "volume_24h": 45000000
    }
  ],
  "risk_metrics": {
    "audit_score": 9.2,
    "time_active_days": 1095,
    "il_protection": false,
    "multisig_secured": true
  }
}

3. REAL-TIME TVL UPDATE EVENT:
---------------------------------
{
  "block_number": 19234567,
  "chain": "ethereum",
  "change_percentage": 0.27,
  "event_type": "tvl_update",
  "new_tvl": 18500000000,
  "old_tvl": 18450000000,
  "protocol_id": "aave-v3",
  "timestamp": "2025-09-21T21:39:41.61825+01:00",
  "tx_hash": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bA45a3b2f6c92a3b4a3b8b0e"
}

4. /api/chains ENDPOINT RESPONSE:
-----------------------------------
{
  "data": [
    {
      "chain_id": 1,
      "daily_volume": 2500000000,
      "gas_price_gwei": 25.5,
      "market_share": 68,
      "name": "Ethereum",
      "protocols_count": 156,
      "tvl": 85500000000
    },
    {
      "chain_id": 56,
      "daily_volume": 850000000,
      "gas_price_gwei": 3.2,
      "market_share": 12.5,
      "name": "BSC",
      "protocols_count": 89,
      "tvl": 15750500000
    }
  ],
  "success": true,
  "timestamp": "2025-09-21T21:39:41.61828+01:00"
}

5. HISTORICAL TVL DATA:
------------------------
{
  "average_tvl": 14792857142.86,
  "chain": "ethereum",
  "data_points": [
    {
      "timestamp": "2024-01-15T00:00:00Z",
      "tvl": 14500000000,
      "volume": 1250000000
    },
    {
      "timestamp": "2024-01-16T00:00:00Z",
      "tvl": 14650000000,
      "volume": 1380000000
    },
    {
      "timestamp": "2024-01-17T00:00:00Z",
      "tvl": 14800000000,
      "volume": 1425000000
    },
    {
      "timestamp": "2024-01-18T00:00:00Z",
      "tvl": 14750000000,
      "volume": 1390000000
    },
    {
      "timestamp": "2024-01-19T00:00:00Z",
      "tvl": 14900000000,
      "volume": 1510000000
    },
    {
      "timestamp": "2024-01-20T00:00:00Z",
      "tvl": 14950000000,
      "volume": 1485000000
    },
    {
      "timestamp": "2024-01-21T00:00:00Z",
      "tvl": 15000000000,
      "volume": 1550000000
    }
  ],
  "highest_tvl": 15000000000,
  "lowest_tvl": 14500000000,
  "protocol": "uniswap-v3",
  "timeframe": "7d",
  "tvl_change": 3.45
}