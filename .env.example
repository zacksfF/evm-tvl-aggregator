# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=tvl_aggregator
DB_SSL_MODE=disable
DB_MAX_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3

# Blockchain RPC URLs
# Choose RPC provider based on your needs:

# Option 1: Public RPC (API server only, limited functionality)
# ETH_RPC_URL=https://ethereum-rpc.publicnode.com
# ETH_WS_URL=wss://ethereum-rpc.publicnode.com

# Option 2: Alchemy (recommended for full functionality)
ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
ETH_WS_URL=wss://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Note: Indexer requires full-featured RPC with unrestricted eth_getLogs
# Public RPCs have limitations that prevent blockchain event indexing

# BSC
BSC_RPC_URL=https://bsc-dataseed1.binance.org/
BSC_WS_URL=wss://bsc-ws-node.nariox.org:443

# Polygon
POLYGON_RPC_URL=https://polygon-rpc.com/
POLYGON_WS_URL=wss://ws-mainnet.matic.network

# Arbitrum
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
ARBITRUM_WS_URL=wss://arb1.arbitrum.io/ws

# Optimism
OPTIMISM_RPC_URL=https://mainnet.optimism.io/
OPTIMISM_WS_URL=wss://ws-mainnet.optimism.io

# Avalanche
AVALANCHE_RPC_URL=https://api.avax.network/ext/bc/C/rpc
AVALANCHE_WS_URL=wss://api.avax.network/ext/bc/C/ws

# Base
BASE_RPC_URL=https://mainnet.base.org/
BASE_WS_URL=wss://mainnet.base.org/ws

# API Configuration
API_PORT=8080
API_HOST=0.0.0.0
API_TIMEOUT=30s
API_RATE_LIMIT=1000
API_ENABLE_CORS=true

# WebSocket Configuration
WS_PORT=8081
WS_HOST=0.0.0.0
WS_MAX_CONNECTIONS=1000

# Indexer Configuration
INDEXER_BATCH_SIZE=1000
INDEXER_CONCURRENT_WORKERS=5
INDEXER_BLOCK_CONFIRMATIONS=12
INDEXER_RETRY_ATTEMPTS=3
INDEXER_RETRY_DELAY=5s

# Aggregator Configuration
AGGREGATOR_UPDATE_INTERVAL=1m
AGGREGATOR_BATCH_SIZE=100
AGGREGATOR_ENABLE_HISTORICAL=true

# Price Oracle Configuration
COINGECKO_API_KEY=
COINMARKETCAP_API_KEY=
PRICE_UPDATE_INTERVAL=1m
PRICE_CACHE_TTL=5m

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=100MB
LOG_MAX_BACKUPS=10
LOG_MAX_AGE=30

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Security Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
API_KEY_REQUIRED=false
RATE_LIMIT_ENABLED=true

# Environment
ENVIRONMENT=development
DEBUG=true

# Notification Configuration (Optional)
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=
EMAIL_PASSWORD=

# Third-party APIs
DEFILLAMA_API_BASE=https://api.llama.fi
DUNE_API_KEY=
MORALIS_API_KEY=
ETHERSCAN_API_KEY=
POLYGONSCAN_API_KEY=
BSCSCAN_API_KEY=
ARBISCAN_API_KEY=
OPTIMISTIC_ETHERSCAN_API_KEY=
SNOWTRACE_API_KEY=

# Feature Flags
ENABLE_WEBSOCKET_REAL_TIME=true
ENABLE_HISTORICAL_DATA=true
ENABLE_PROTOCOL_RISK_METRICS=true
ENABLE_TOKEN_PRICE_TRACKING=true
ENABLE_CROSS_CHAIN_AGGREGATION=true